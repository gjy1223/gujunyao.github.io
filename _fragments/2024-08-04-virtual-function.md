---
layout: post
title: 虚函数的实现
categories: cplusplus
keywords: virtual_table,virtual_table_ptr
---
#1. 虚函数的引入
虚函数在cpp的中，主要的作用就是实现了多态。所谓多态，其表现形式就是父类的指针指向子类的对象。它的实现就是父类来定义一个虚函数，子类可以重写这个虚函数。

#2. 虚函数的实现

虚函数的调用过程

1.通过对象内存中的虚函数指针找到虚表

2.通过虚表找到虚函数的实现来进行调用

虚表的底层实现是函数指针数组，归属于类，数组中的每一元素对应一个函数指针指向该类的一个。

虚函数指针归属于对象，一个对象一个虚函数指针。

·非重写情况下，子类的虚表中先放父类虚函数，再放自己的虚函数指针

·重写情况下，子类的虚表对应位置上的虚函数地址会被覆盖。
